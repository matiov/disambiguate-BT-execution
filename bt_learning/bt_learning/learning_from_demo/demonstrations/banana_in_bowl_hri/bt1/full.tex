% Please compile your document with LuaLaTex and add
% the following to your document preamble:
% \usepackage{tikz}
                    % \usetikzlibrary{arrows,decorations.pathmorphing,backgrounds,fit,positioning,
                    calc,shapes,graphs,graphdrawing}
                    % \usegdlibrary{trees}
                    % \tikzset{control/.style={draw, inner sep=1pt, regular polygon,
                    regular polygon sides=4, minimum width=1cm, fill=blue!15}}
                    % \tikzset{action/.style={draw, rectangle, inner sep=0.2cm, fill=green!40}}
                    % \tikzset{condition/.style={draw, minimum width=1cm, ellipse, inner sep=2pt,
                    fill=yellow!80}}
                    % \tikzset{>=stealth}
                    % \tikzset{level distance=1.5cm}
                    % \tikzset{sibling distance=2.5cm}
                    % \tikzset{grow=down}
\begin{tikzpicture}
	\graph[tree layout] {
		n1[as=$\rightarrow$, control] -> {
			n2[as=?, control] -> {
				n3[as={Scene Clear?}, condition],
				n4[as={Disambiguate Behavior}, condition]
			},
			n5[as=$\rightarrow$, control] -> {
				n6[as=?, control] -> {
					n7[as={banana roughly at $p_{1}$ in bowl?}, condition],
					n8[as=$\rightarrow$, control] -> {
						n9[as=?, control] -> {
							n10[as={In gripper banana?}, condition],
							n11[as=$\rightarrow$, control] -> {
								n12[as=?, control] -> {
									n13[as={Gripper open?}, condition],
									n14[as={Set gripper open}, action]
								},
								n15[as={Pick banana}, action]
							}
						},
						n16[as={Place banana at $p_{1}$ in bowl}, action]
					}
				},
				n17[as={In gripper none?}, condition],
				n18[as={Gripper open?}, condition]
			}
		}
	};
\end{tikzpicture}
